---
layout: post
title: 1. Database 개요
subtitle: Database 개요
categories: study
tags: database
---

## Overview

Oracle Database의 기초적인 개념에 대한 포스트

***

## 데이터베이스

어느 한 조직에서 업무 처리를 위해 다수의 응용 시스템 혹은 다수의 사용자들이 공용으로 사용하기 위해 통합 / 저장된 운영 데이터의 집합
* **통합, 저장, 공용, 운영**

### 데이터베이스의 특징

계속적인 변화, 동시 공유, 실시간 접근성, 내용에 의한 참조, 데이터 중복의 최소화

### 데이터베이스의 목표

- 지속적인 데이터의 관리 및 보호
- 안전성 보장
- 무결성 보장

### 데이터베이스의 구성 요소

- 개체
	* 현실 세계의 대상체
	* 하나이상의 속성으로 구성
- 속성
	* 가장 작은 논리적인 단위
- 관계
	* 개체 사이의 상호 연관성

### 데이터 베이스의 표현
- 논리적 구조 : 사용자 관점에서 본 구조를 나타내며 사용자가 이해하고 생각하는 것을 나타내는 형태
- 물리적 구조 : 저장 장치 관점에서 본 구조를 나타내며 기계처리에 맞는 형태

### ***스키마(Schema)***
- 데이터베이스의 전체적인 구조와 제약조건에 대한 명세를 기술, 정의한 것
- 내부 스키마 : **물리적 저장 장치 관점**에서 본 데이터베이스의 물리적 구조
- 개념 스키마 : **논리적 관점**에서 본 전체적인 데이터 구조
- 외부 스키마 : 전체 데이터 중 사용자가 사용하는 한 부분에서 본 논리적 구조, 서브 스키마

***

## 시스템 카탈로그

- 데이터베이스에 저장되어 있는 테이블, 인덱스, 뷰, 제약조건, 사용자 등 개체들에 대한 정보와 정보들 간의 관계를 저장한 것
- 데이터 사전이라고 함
- 시스템 카탈로그에 저장되어 있는 데이터를 '**메타 데이터**'라고 함
- 일반 테이블과 같이 시스템 테이블로 구성
- 일반 사용자도 시스템 카탈로그의 내용을 검색할 수 있지만 삽입, 삭제, 갱신은 불가
- 시스템 카탈로그 갱신은 사용자가 SQL문을 실행하면 **시스템에 의해 자동적**으로 이루어짐

***

## 데이터베이스 객체(Object)

- 테이블(Table)
    - 행과 열로 구성된 2차원적인 표

- 시퀀스(Sequence)
    - 정수형 번호표 생성기

- 인덱스(Index)
    - 데이터 검색을 빨리 하기 위하여 만들어 둔 개념

- 프로시저(Procedure)
    - 반환 타입이 ***없는*** 객체

- 함수(Function)
    - 반환 타입이 ***있는*** 객체

### 데이터베이스 객체 현황 보기

- `conn / as sysdba` (관리자 모드로 로그인 하는 명령어)
- `select distinct object_type from dba_objects`
- `order by object_type;`

***

## DBMS(Database Management System)

- 데이터베이스 관리 시스템
- 데이터의 중복성과 종속성등의 문제를 최소화하기 위해 등장
- 사용자가 데이터베이스의 내용을 정의 / 조작 / 제어할 수 있도록함
- 모든 사용자나 응용프로그램들이 데이터베이스를 공유할 수 있도록 관리, 운영해주는 소프트웨어 시스템
- MySQL, MS SQL, Oracle 등

### DBMS의 구조

![DBMS Structure](/assets/img/study/db/190923_fig_001.png "DBMS Structure")

### DBMS의 주요 기능

- 데이터의 추가 / 조회 / 변경 / 삭제 기능의 구현
- 데이터의 무결성(신뢰도) 유지되어야 함
- 트랜잭션 관리 기능이 구현되어야 함
- 데이터의 백업 및 복원 가능
- 데이터 보안 기능

### DBMS의 필수 기능

- 정의(Definition Facility)
  - 저장될 데이터의 형태, 구조 등 데이터베이스의 저장에 관한 여러 가지 사항을 정의하는 기능
- 조작(Manipulation Facility)
  - 데이터베이스의 자료를 사용자가 이용할 수 있도록 요구에 따라 검색, 갱신, 삽입, 삭제 등을 지원하는 기능
- 제어(Control Facility)
  - 데이터의 정확성과 안전성 유지를 위한 관리 기능으로 데이터의 무결성 유지, 보안, 병행 수행 제어등을 제공

### DBMS의 장 단점

장점

- 데이터의 중복성과 종속성을 최소화
- 데이터의 일관성 유지
- 데이터의 무결성 유지
- 사용자 간 데이터 공유 가능
- 데이터의 보안 유지 가능
- 데이터의 표준화 구현 가능

단점

- 많은 운영비 소모
- 자료 처리의 복잡
- 백업과 회복의 어려움
- 한 부분에 장애 요인이 생겼을 때 전체 시스템에 영향을 주는 취약성

***

## 데이터베이스 관리자(DBA)
데이터베이스 시스템과 관련된 모든 자원에 대해 기획/통제를 하며, 데이터베이스 언어를 이용해 DBMS를 거쳐 데이터베이스 시스템의 전체적인 관리 운영에 책임을 지는 사람이나 집단

- 역할
  * 데이터베이스의 구성요소를 결정
  * 저장 구조와 접근 방법을 선정
  * 보안, 권한 부여, 유효성 검사 등을 수행
  * 스키마 정의
  * 예방, 회복 절차 수립 등을 모색
  * 무결성 유지를 위한 관리

***

## 관계 데이터 모델

자료의 저장 형태를 2차원 구조의 테이블로 표현하는 방법

![Table Structure](/assets/img/study/db/190923_fig_002.png "Table Structure")

- 속성 : 릴레이션을 구성하는 각 열
- 튜플 : 한 행을 구성하는 속성들의 집합
- 도메인 : 하나의 속성이 가질 수 있는 값들의 범위
- 릴레이션 스키마 : 릴레이션의 이름과 속성 이름의 집합
- 릴레이션 인스턴스 : 릴레이션에서 어느 시점까지 입력된 튜플들의 집합
- 차수 : 릴레이션을 구성하는 속성의 수
- 카디널리티 : 릴레이션에 입력된 튜플의 수

### 릴레이션의 특징
- 튜플은 모두 상이하며 유일하고 순서에 의미가 없다
- 속성간 순서는 의미없다
- 속성값은 원자값으로 구성되며 분해가 불가능하다


***

## Key

### Key의 개념
- 관계 데이터베이스에서 튜플을 식별하기 위해 사용하는 속성이나 속성의 집합
- 데이터베이스의 참조 또는 검색 시에 사용

### Key의 종류
- 후보키(Candidate Key)
  * 릴레이션에서 각 튜플을 유일하게 식별할 수 있는 속성이나 속성의 집합
  * 조건 : 유일성과 최소성을 모두 만족
- 기본키(Primary Key)
  * 후보키 중에서 튜플을 식별하기 위해 특별히 선택된 키
  * 중복될 수 없으며 NULL값이 올 수 없음
  * 유일성과 최소성을 만족
- 대체키(Alternate Key)
  * 후보키 중 기본키를 제외한 속성
- 외래키(Foreign Key)
  * 하나의 테이블에서 원하는 자료를 얻지 못하는 경우 다른 테이블을 참조하기 위해 사용되는 속성
  * 참조 릴레이션의 기본키와 같아야 함
  * NULL이 올 수 있음
  * 외래키의 속성명과 참조 릴레이션의 기본키 속성명은 달라도 무방
- 슈퍼키(Super Key)
  * 한 릴레이션 내의 튜플들을 식별할 수 있는 후보키와 다른 속성들과의 모든 조합
  * 유일성은 만족하지만 최소성은 만족하지 않음

### 무결성(Integrity) 제약조건
- 개체 무결성
	* 기본키는 NULL 값이 올 수 없으며 중복될 수 없음
	* 개체를 식별하기 위해 오류가 없도록 하기 위한 제약 조건
- 참조 무결성
	* 외래키는 NULL 값이 올 수 없으며 참조 릴레이션의 기본키와 같아야 하는 제약조건
 	* 테이블 참조 시 오류가 없도록 하기 위한 제약조건
- 도메인 무결성
	* 릴레이션에서 속성값의 범위가 정의된 경우 그 속성값은 정해진 범위 이내의 값으로 구성해야하는 제약조건
	* 동일한 속성에 대해 데이터 타입과 길이가 동일해야 함
- 고유 무결성
	* 특정 속성에 대해 고유한 값을 가지도록 조건이 주어진 경우 그 속성값은 모두 달라야 함
- NULL 무결성
	* 특정 속성값에 NULL이 올 수 없다는 조건이 주어진 경우 그 속성값은 NULL이 올 수 없음
- 키 무결성
	* 한 릴레이션에는 최소한 하나의 키가 존재해야하는 제약조건

***

## 관계대수 ($$\pi, \sigma, \bowtie, \div, \wedge, \cap, \cup, -, \times$$)
- Select $$\sigma$$ : 릴레이션에서 조건을 만족하는 튜플을 구하기 위한 연산
	* 표기형식 : $$\sigma$$<선택조건>(테이블 이름)
	* Ex : $$\sigma$$ 점수 > 80 (학생) etc.
- Project $$\pi$$ : 릴레이션에서 속성의 값을 구하는 연산
	* 표기형식 : $$\pi$$<추출 속성리스트>(테이블 이름)
	* Ex : $$\pi$$ 학번, 이름($$\sigma$$ 학년 = 1 (학생))
- Join $$\bowtie$$ : 두 테이블로부터 조건에 맞는 관련된 튜플들을 하나의 튜플로 결합하여 하나의 테이블로 만드는 연산
	* 표기형식 : 테이블1 $$\bowtie$$ <조인조건> 테이블2
	* Ex : 학생 $$\bowtie$$ 학번=학번 성적
- Division $$\div$$ : 'A DIVISION B'는 B 테이블의 조건을 만족하는 튜플들을 테이블 A에서 추출하는 연산
	* 표기형식 : 테이블1 (테이블1속성 $$\div$$ 테이블2속성) 테이블2
	* Ex : 학생(수강과목 $$\div$$ 과목명)과목
- 일반집합연산자 : 합($$\cup$$), 교($$\cap$$), 차($$-$$) 집합, 카디션 프로덕트($$\times$$)연산

관계 해석
- 릴레이션에서 결과를 얻기 위한 과정을 표현하는 것
- 연산자 없이 정의하는 방법을 이용하는 비절차적 언어
- 튜플 관계 해석과 도메인 관계 해석이 있음
	* 표기형식 : &#123;결과값 &#166; 조건&#125;	
	* Ex : &#123;학점.이름 &#166; 학점 $$\wedge$$ 학점.수강번호='B123' $$\wedge$$ 학점.점수>80&#125;	