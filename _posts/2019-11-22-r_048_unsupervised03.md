---
layout: post
title: 48. 연관 분석
subtitle: 연관 분석
categories: study
tags: rprogramming
---

![r](/assets/img/logo/r-logo.png)

## Overview

[비지도 학습(unSupervised Learning)](https://rap0d.github.io/study/2019/11/15/r_046_unsupervised01/)의 방식인 연관 분석에 대해서 알아본다.

## 연관 분석

마트에 가면 맥주 옆에 항상 땅콩이 같이 진열 되어 있다.

인터넷에서 책을 구매하고자 할 때 연관된 도서를 추천하는 경우가 많다.

언급한 예시에서와 같이 연관 분석(Association Analysis)은 **항목들간의 관련성**을 파악하여 둘 이상의 항목들로 구성된 **연관성 규칙을 도출하는 탐색적인 분석 방법**이다.

군집 분석에 의해서 생성된 군집(cluster)의 특성을 분석하는 **장바구니 분석**으로 알려져 있다.

주로 마케팅에서 고객의 장바구니에 들어있는 품목 간의 관계를 분석하여 마케팅에 사용할 수 있다.

장바구니 분석 결과는 효과적인 매장 진열, 패키지 상품의 개발, 교차 판매 전략 수립 등에 이용된다.

### 활용 분야

- 고객 대상 상품 추천 및 상품 정보 발송 : A고객에 대한 B상품 쿠폰 발송
- 상점대 상품 진열 및 쇼윈도의 상품 디스 플레이
- 텔레 마케팅을 통해서 패키지 상품 판매 기획 및 홍보

### 활용 예시

- 고객들은 어떤 상품들을 동시에 구매하는가?
- 맥주를 구매한 고객은 주로 어떤 상품을 함께 구매하는가?
- 인터넷에서 서적을 구매할 때, 이 독자가 많이 구매한 관련 서적을 소개하기

***

## 연관 규칙의 평가 척도

연관성을 비교할 수 있는 규칙으로, 지지도(support), 신뢰도(confidence), 향상도(lift) 등을 평가 척도로 사용한다.

높은 지지도와 신뢰도를 갖는 것은 강한 규칙(strong rule)이라고 한다.

- support
  - 전체 자료에서 관련 품목의 거래 확률를 의미
  - 값이 작다는 것은 다른 항목에 자주 발생하지 않는다는 것을 의미
  - **전체 건수 중에 A와 B가 모두 포함되어 있는 건수의 비율**
  - **동시에 존재하는 확률**
  - support = (상품 A와 상품 B를 포함한 거래수) / (전체 거래수)
- confidence
  - A가 구매될 때 B가 구매될 확률(조건부 확률)
  - **항목 A를 포함하는 건수중에 A와 B가 모두를 포함하고 있는 건수의 비율**
  - confidence = (A와 B를 포함한 거래수) / (A를 포함한 거래수)
- lift
  - 상품 간의 독립성과 상관성을 나타내는 척도 
  - Lift = (신뢰도) / (B가 포함될 거래율)

### 평가 척도의 수치적 의미

- 높은 지지도
  - 해당 조합의 거래 건수가 다른 것에 비해 상대적으로 많음
- 높은 신뢰도
  - A 상품 구매시 B 상품을 구매하는 거래수가 많음
- 향상도 예시
  - `== 1` : A와 B는 서로 독립적
  - `>= 1` : 맥주는 보통 치킨과 동시에 구입
  - `< 1` : 성경책 구입시 불경책을 사지 않음
